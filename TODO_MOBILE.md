# Mobile UX/UI TODO

This checklist focuses on user experience and interface improvements for mobile. It intentionally avoids performance optimizations. Check off items as they’re implemented; link code locations or notes when useful.

## Quick Access Controls
- [x] Add a persistent bottom toolbar with large touch targets.
  - Buttons: Reset cube, Scramble cube, Help (?), Install.
  - Visible only on mobile; sized for thumbs (44–48px min height).
  - Hooked to existing logic in `src/main.ts`.
- [x] Add visual/haptic feedback on button press.
  - Press states (opacity), `navigator.vibrate(10)` if supported.

## Onboarding & Help
- [x] Add a one-time onboarding tip for gestures (drag to rotate, pinch to zoom, two-finger orbit).
  - Dismissible, stored in `localStorage`.
- [x] Add a compact in-app Help sheet accessible via a `?` button.

## Touch & Gestures (UX)
- [x] Prevent page scroll during canvas interaction via `touch-action: none` on the canvas area.
- [ ] Improve gesture affordances (cursor/touch hints) and snap indicators (subtle glow when snapping).

## Layout & Accessibility
- [ ] Ensure toolbar does not overlap critical 3D content on very short screens.
  - Add bottom padding to canvas or auto-hide toolbar after a few seconds of inactivity.
- [x] Provide accessible names/labels for buttons and keyboard focus styles.
- [x] Respect prefers-reduced-motion for any UI transitions.
- [x] Hide desktop HUD keyboard tips on mobile/PWA.

## PWA Installability
- [x] Add a web app manifest (`public/manifest.webmanifest`).
- [x] Register a service worker (`public/sw.js`) for basic offline capability.
- [x] Add app icons (SVG data URL; maskable-any) and Apple touch icon (base64 placeholder PNG).
- [x] Add an optional custom “Install App” prompt button when `beforeinstallprompt` fires (mobile only).

## Orientation & UI Polish
- [ ] Handle orientation change UX: keep toolbar usable in landscape, avoid overlapping the notch/home indicator (`viewport-fit=cover`).
- [ ] Add active state indicator for Test Mode if exposed in UI.

---

## Implementation Notes

### Bottom Toolbar (Reset / Scramble / Help / Install)
- Implemented in `index.html` with `.toolbar` container and buttons: `Reset`, `Scramble`, `?` (Help), and `Install`.
- Toolbar is only shown on mobile (coarse pointer/touch detection).
- `src/main.ts` attaches listeners to call existing `resetView()` and `scramble()` and controls overlays/help/install.

### PWA Scaffolding
- `public/manifest.webmanifest` contains core metadata and references PNG icons under `public/icons/`.
- Icons are generated by `scripts/generate-icons.mjs` (solid color placeholders) and checked into `public/icons`.
- `public/sw.js` registers a minimal caching strategy for app shell; registration gated behind `import.meta.env.PROD` in `src/main.ts`.
- Apple touch icon uses `/icons/apple-touch-icon-180.png`.

### Onboarding & Help
- On first mobile visit, a dismissible Onboarding overlay explains gestures. State stored in `localStorage`.
- A Help overlay is accessible from the `?` button.

### Touch Interaction
- Added `touch-action: none` to the canvas via CSS in `index.html` to reduce scroll conflicts on mobile.

---

## Release Checklist
- [ ] Validate installability in Chrome DevTools (Lighthouse PWA pass, manifest + SW detected).
- [ ] Test on iOS Safari add-to-home-screen (standalone launches, status bar color ok).
- [ ] Verify toolbar works across common devices (iPhone SE/12/14 Pro Max, Pixel 5/7, small tablets).
- [ ] Confirm offline start for already-visited users.
